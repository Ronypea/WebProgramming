<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Лаб 3</title>
</head>
<body>

<script>
    var CanvasWidth = 800;
    var CanvasHeight = 600;
    var ImageWidth = 400;
    var ImageHeight = 300;

    var canvas = document.createElement('canvas');
    canvas.width = CanvasWidth;
    canvas.height = CanvasHeight;

    var body = document.getElementsByTagName('body')[0];
    body.appendChild(canvas);

    var picture = canvas.getContext('2d');

    var ImgUrl1 = "https://source.unsplash.com/collection/1147619/" + ImageWidth + "x" + ImageHeight;
    var ImgUrl2 = "https://source.unsplash.com/collection/1147624/" + ImageWidth + "x" + ImageHeight;
    var ImgUrl3 = "https://source.unsplash.com/collection/1147628/" + ImageWidth + "x" + ImageHeight;
    var ImgUrl4 = "https://source.unsplash.com/collection/462839/" + ImageWidth + "x" + ImageHeight;

    var imageSources = [ImgUrl1, ImgUrl2, ImgUrl3, ImgUrl4];
    var images = [];

    for (var i = 0; i < 4; i++) {
        images[i] = new Image();
        images[i].src = imageSources[i];
    }

    var loadedCounter = 0;
    images[0].onload = images[1].onload = images[2].onload = images[3].onload = function () {
        loadedCounter++;
        if (loadedCounter == 4) {
            picture.drawImage(images[0], 0, 0);
            picture.drawImage(images[1], 0, ImageHeight);
            picture.drawImage(images[2], ImageWidth, 0);
            picture.drawImage(images[3], ImageWidth, ImageHeight);
        }
    }

</script>

</body>
</html>
